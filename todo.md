# Project TODO - Гатчинские закрома

## Структура и навигация
- [x] Шапка с логотипом, меню, корзиной и телефоном
- [x] Футер с логотипом, меню, юридической информацией и платежными системами

## Главная страница
- [x] Блок с завлекающей фразой (хук)
- [x] Блок "Виды продукции" с категориями (Ягоды, Овощи, Фрукты, Грибы, Зелень, Орехи)
- [x] Блок "Лучшие предложения" с 9 рандомными товарами
- [x] Блок "Сдай выгодно"
- [x] Форма обратной связи

## Страница магазина
- [x] Каталог товаров из CSV
- [x] Фильтрация по категориям (Овощи, Фрукты, Грибы, Ягоды, Зелень, Сухофрукты, Орехи)
- [x] Сортировка по цене
- [x] Кнопки "Добавить в корзину" и "Купить в 1 клик"
- [x] Форма обратной связи

## Корзина
- [x] Добавление/удаление товаров
- [x] Подсчет общей стоимости
- [x] Страница корзины

## Страница "О нас"
- [x] Описание компании
- [x] Блок "Что мы делаем"
- [x] Блок "Что такое настоящие продукты"
- [x] Блок "Что еще нужно знать"

## Страница "Сдать продукцию"
- [x] Вступительный блок
- [x] Блок с преимуществами
- [x] Форма обратной связи

## Страница "Контакты"
- [x] Контактная информация (ИП, ИНН, ОГРНИП, банковские реквизиты)
- [x] Яндекс карта с координатами 59.644332, 30.048709

## Юридические страницы
- [x] Политика конфиденциальности
- [x] Публичная оферта
- [x] Условия возврата

## Формы и уведомления
- [x] Формы с полями Email, Имя, Телефон и согласием на обработку данных
- [x] Уведомления владельцу при отправке форм

## База данных
- [x] Схема для товаров
- [x] Схема для заявок с форм
- [x] Импорт товаров из CSV

## Обновления
- [x] Обновить страницу публичной оферты из документа Оферта.docx
- [x] Обновить страницу политики конфиденциальности из документа ПолитикаОПДскуки.docx
- [x] Удалить товары без наличия из базы данных

## Страница товара
- [x] Серверная процедура для получения товара по ID
- [x] Страница товара с подробным описанием
- [x] Выбор количества товара
- [x] Кнопки добавления в корзину и покупки в 1 клик
- [x] Ссылки на страницу товара из каталога и главной

## Похожие товары
- [x] Серверная процедура для получения похожих товаров
- [x] Блок похожих товаров на странице товара

## Оформление заказа
- [x] Схема базы данных для заказов (orders, order_items)
- [x] Серверные процедуры для создания заказа
- [x] Страница оформления заказа с формой доставки
- [x] Выбор способа оплаты (наличные, карта, безналичный расчет)
- [x] Страница подтверждения заказа
- [x] Уведомление владельцу о новом заказе

## Инфраструктура для платежных систем (Paymaster/Ckassa)
- [x] Обновить схему заказов для хранения данных оплаты
- [x] Создать эндпоинты для webhook-уведомлений
- [x] Страница ожидания оплаты
- [x] Страница успешной оплаты
- [x] Страница ошибки оплаты

## Поиск товаров
- [x] Серверная процедура с поддержкой поиска по названию
- [x] Строка поиска в интерфейсе каталога

## Исправления и улучшения
- [x] Заменить KGM на КГ везде
- [x] Исправить отображение цен на странице товара (деление на 100 дважды)
- [x] Исправить кнопку "Купить в 1 клик" на странице товара
- [x] Добавить фильтрацию по диапазону цен в каталоге

## API каталога
- [x] Создать публичный API эндпоинт /api/catalog для получения товаров в JSON

## Деплой на сервер
- [x] Подключиться к серверу 188.225.73.61 по SSH
- [x] Загрузить файлы сайта
- [x] Настроить и запустить сайт

## Фавикон и API
- [x] Добавить фавикон на сайт
- [x] Исправить API каталога - показывать только товары в наличии

## Исправления по запросу клиента
- [x] Исправить кнопку "Купить в 1 клик" на странице товара - должна перенаправлять в корзину
- [x] Убрать товары без наличия с главной страницы
- [x] Добавить подробную информацию о приеме продукции на странице "Сдать продукцию" с фотографиями

## Аналитика
- [x] Добавить счетчик Яндекс.Метрики на сайт

## Оптимизация производительности (критично!)
- [x] Оптимизировать API каталога - запрос выполняется более 3 секунд
- [x] Добавить индексы в базу данных для ускорения запросов
- [x] Настроить кэширование nginx для API каталога
## Исправления по требованиям банка-эквайера
- [x] Исправить ОГРНИП и ИНН на всех страницах (правильные: ИНН 471905083025, ОГРНИП 325470400045670)
- [x] Добавить раздел "Политика информационной безопасности" в политику конфиденциальности
- [x] Добавить иконку 3DSecure в подвал сайта
- [x] Добавить иконку СБП в подвал сайта
- [x] Создать страницу /delivery с подробными условиями доставки
- [x] Синхронизировать сервер с Git

## Обновления по запросу клиента (февраль 2026)
- [x] Заменить логотипы платёжных систем в футере на качественные изображения
- [x] Реализовать пагинацию в магазине по 12 товаров с кнопкой "Загрузить ещё"
- [x] Удалить товары без остатка из базы и скрывать закончившиеся
- [x] Установить остаток 100 для всех товаров в наличии
